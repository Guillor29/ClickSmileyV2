<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="assets/style.css">
</head>
<body>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="pink">
        <div class="face"></div>
    </label>
    <label>
        <input type="radio" name="green">
        <div class="face"></div>
    </label>
</body>
</html>
<script>
    const gridSize = 10; // 10x10 grille
    const cells = document.querySelectorAll('label');
    const states = Array.from(cells).map(() => 0); // Initialement, toutes les cellules sont mortes

    function getNeighbors(index) {
        const neighbors = [];
        const row = Math.floor(index / gridSize);
        const col = index % gridSize;

        // Vérifier les 8 voisins
        for (let i = -1; i <= 1; i++) {
            for (let j = -1; j <= 1; j++) {
                if (i === 0 && j === 0) continue; // Ignorer la cellule elle-même
                const newRow = row + i;
                const newCol = col + j;
                if (newRow >= 0 && newRow < gridSize && newCol >= 0 && newCol < gridSize) {
                    neighbors.push(newRow * gridSize + newCol);
                }
            }
        }
        return neighbors;
    }

    function updateStates() {
        const newStates = [...states];

        cells.forEach((cell, index) => {
            const neighbors = getNeighbors(index);
            const reds = neighbors.filter(i => states[i] === 1).length;
            const greens = neighbors.filter(i => states[i] === 2).length;

            if (states[index] === 1 && greens > 0) {
                newStates[index] = 0; // Rouge meurt au contact du vert
            } else if (states[index] === 2 && reds > 0) {
                newStates[index] = 0; // Vert meurt au contact du rouge
            } else if (states[index] === 0 && reds + greens === 3) {
                newStates[index] = reds > greens ? 1 : 2; // Naissance selon la majorité
            }
        });

        return newStates;
    }

    function render() {
        states.forEach((state, index) => {
            const face = cells[index].querySelector('.face');
            if (state === 0) {
                face.style.background = '#333'; // Mort
                face.style.filter = 'none';
            } else if (state === 1) {
                face.style.background = 'var(--clr1)'; // Rouge
                face.style.filter = 'drop-shadow(0 0 10px var(--clr1))';
            } else if (state === 2) {
                face.style.background = 'var(--clr2)'; // Vert
                face.style.filter = 'drop-shadow(0 0 10px var(--clr2))';
            }
        });
    }

    function gameLoop() {
        const newStates = updateStates();
        newStates.forEach((state, index) => states[index] = state);
        render();
        setTimeout(gameLoop, 500); // Mise à jour toutes les 500ms
    }

    // Initialisation du jeu
    cells.forEach((cell, index) => {
        cell.addEventListener('click', () => {
            states[index] = (states[index] + 1) % 3; // Alterner entre mort, rouge, vert
            render();
        });
    });

    render(); // Afficher l'état initial
    gameLoop(); // Lancer la boucle
</script>
